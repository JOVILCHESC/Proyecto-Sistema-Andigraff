<!DOCTYPE html>
<html lang="es">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Actualizar Trabajador</title>
<link href="https://cdn.jsdelivr.net/npm/bootstrap@4.5.2/dist/css/bootstrap.min.css" rel="stylesheet">
<link rel="stylesheet" href="../Styles/actualizar_trabajador.css">
<style>
  /* Puedes añadir estilos adicionales si es necesario */
</style>
<script>
  function buscarTrabajador() {
    const rutTrabajador = document.getElementById('rut').value;
    if (rutTrabajador) {
      // Aquí se debe realizar la lógica para buscar el trabajador en la base de datos
      // Puedes usar AJAX para obtener los datos del servidor
      // Ejemplo de datos simulados:
      const data = {
        nombre: "Juan",
        apellido_paterno: "Pérez",
        apellido_materno: "González",
        email: "juan.perez@example.com",
        contrasena: "********",
        sexo: "M",
        calle: "Av. Libertador Bernardo O'Higgins",
        numero: 123,
        comuna: "Santiago",
        fecha_nacimiento: "1990-05-15",
        telefono: "987654321",
        fecha_contratacion: "2023-01-10",
        estado_laboral: true,
        estado_civil: "Soltero(a)",
        cargo: "Analista de Datos",
        num_credencial: 456789
      };
      // Actualiza los campos del formulario con los datos obtenidos
      document.getElementById('nombre').value = data.nombre;
      document.getElementById('apellido_paterno').value = data.apellido_paterno;
      document.getElementById('apellido_materno').value = data.apellido_materno;
      document.getElementById('email').value = data.email;
      document.getElementById('contrasena').value = data.contrasena;
      document.getElementById('sexo').value = data.sexo;
      document.getElementById('calle').value = data.calle;
      document.getElementById('numero').value = data.numero;
      document.getElementById('comuna').value = data.comuna;
      document.getElementById('fecha_nacimiento').value = data.fecha_nacimiento;
      document.getElementById('telefono').value = data.telefono;
      document.getElementById('fecha_contratacion').value = data.fecha_contratacion;
      document.getElementById('estado_laboral').checked = data.estado_laboral;
      document.getElementById('estado_civil').value = data.estado_civil;
      document.getElementById('cargo').value = data.cargo;
      document.getElementById('num_credencial').value = data.num_credencial;
    } else {
      alert('Por favor, ingrese el RUT del trabajador para buscar.');
    }
  }
</script>
</head>
<body>

<div class="container">
  <form id="form_actualizar" action="procesar_actualizacion_trabajador.php" method="POST">
    <div class="logo-container text-center">
      <img src="../Images/anidgraf-Photoroom.png" alt="Logo">
      <h1>Actualizar Trabajador</h1>
    </div>
    <div class="form-row">
      <div class="form-group col-md-6">
        <label for="rut">RUT:</label>
        <input type="text" class="form-control" id="rut" name="rut" required>
      </div>
      <div class="form-group col-md-6">
        <label for="cod_establecimiento">Código de Establecimiento:</label>
        <input type="text" class="form-control" id="cod_establecimiento" name="cod_establecimiento" required>
      </div>
    </div>
    <div class="form-row">
      <div class="form-group col-md-6">
        <label for="nombre">Nombre:</label>
        <input type="text" class="form-control" id="nombre" name="nombre">
      </div>
      <div class="form-group col-md-6">
        <label for="apellido_paterno">Apellido Paterno:</label>
        <input type="text" class="form-control" id="apellido_paterno" name="apellido_paterno">
      </div>
    </div>
    <div class="form-row">
      <div class="form-group col-md-6">
        <label for="apellido_materno">Apellido Materno:</label>
        <input type="text" class="form-control" id="apellido_materno" name="apellido_materno">
      </div>
      <div class="form-group col-md-6">
        <label for="email">Email:</label>
        <input type="email" class="form-control" id="email" name="email">
      </div>
    </div>
    <div class="form-row">
      <div class="form-group col-md-6">
        <label for="contrasena">Contraseña:</label>
        <input type="password" class="form-control" id="contrasena" name="contrasena">
      </div>
      <div class="form-group col-md-6">
        <label for="sexo">Sexo:</label>
        <select class="form-control" id="sexo" name="sexo">
          <option value="M">Masculino</option>
          <option value="F">Femenino</option>
          <option value="O">Otro</option>
        </select>
      </div>
    </div>
    <div class="form-row">
      <div class="form-group col-md-6">
        <label for="calle">Calle:</label>
        <input type="text" class="form-control" id="calle" name="calle">
      </div>
      <div class="form-group col-md-6">
        <label for="numero">Número:</label>
        <input type="number" class="form-control" id="numero" name="numero" min="1">
      </div>
    </div>
    <div class="form-row">
      <div class="form-group col-md-6">
        <label for="comuna">Comuna:</label>
        <input type="text" class="form-control" id="comuna" name="comuna">
      </div>
      <div class="form-group col-md-6">
        <label for="fecha_nacimiento">Fecha de Nacimiento:</label>
        <input type="date" class="form-control" id="fecha_nacimiento" name="fecha_nacimiento">
      </div>
    </div>
    <div class="form-row">
      <div class="form-group col-md-6">
        <label for="telefono">Teléfono:</label>
        <input type="tel" class="form-control" id="telefono" name="telefono">
      </div>
      <div class="form-group col-md-6">
        <label for="fecha_contratacion">Fecha de Contratación:</label>
        <input type="date" class="form-control" id="fecha_contratacion" name="fecha_contratacion">
      </div>
    </div>
    <div class="form-row">
      <div class="form-group col-md-6">
        <label for="estado_laboral">Estado Laboral:</label>
        <input type="checkbox" class="form-check-input" id="estado_laboral" name="estado_laboral">
      </div>
      <div class="form-group col-md-6">
        <label for="estado_civil">Estado Civil:</label>
        <select class="form-control" id="estado_civil" name="estado_civil">
          <option value="Soltero(a)">Soltero(a)</option>
          <option value="Casado(a)">Casado(a)</option>
          <option value="Viudo(a)">Viudo(a)</option>
          <option value="Divorciado(a)">Divorciado(a)</option>
        </select>
      </div>
    </div>
    <div class="form-row">
      <div class="form-group col-md-6">
        <label for="cargo">Cargo:</label>
        <input type="text" class="form-control" id="cargo" name="cargo">
      </div>
      <div class="form-group col-md-6">
        <label for="num_credencial">Número de Credencial:</label>
        <input type="number" class="form-control" id="num_credencial" name="num_credencial">
      </div>
    </div>
    <button type="button" class="btn btn-primary" onclick="buscarTrabajador()">Buscar Trabajador</button>
    <button type="submit" class="btn btn-success">Actualizar Trabajador</button>
  </form>
</div>

<script src="https://cdn.jsdelivr.net/npm/jquery@3.5.1/dist/jquery.slim.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.5.4/dist/umd/popper.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@4.5.2/dist/js/bootstrap.min.js"></script>
</body>
</html>

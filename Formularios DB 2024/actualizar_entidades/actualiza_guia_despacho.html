<!DOCTYPE html>
<html lang="es">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Actualizar Guía de Despacho</title>
<link rel="stylesheet" href="../Styles/actualizar_guia_despacho.css">
<style>
  /* Puedes añadir estilos adicionales si es necesario */
</style>
<script>
  function buscarGuiaDespacho() {
    const rut = document.getElementById('rut').value;
    if (rut) {
      // Simulación de búsqueda: se debe reemplazar con la lógica real
      // Aquí debería ir la llamada AJAX para obtener los datos del servidor
      // Ejemplo de datos simulados:
      const data = {
        direccion_origen: "Calle 123, Santiago",
        direccion_destino: "Avenida Principal 456, Providencia",
        condicion_entrega: true, // Entrega especial marcada
        fecha_emision: "2024-07-02",
        estado_despacho: 1 // Activo
      };
      document.getElementById('direccion_origen').value = data.direccion_origen;
      document.getElementById('direccion_destino').value = data.direccion_destino;
      document.getElementById('condicion_entrega').checked = data.condicion_entrega;
      document.getElementById('fecha_emision').value = data.fecha_emision;
      document.getElementById('estado_despacho').value = data.estado_despacho;
    } else {
      alert('Por favor, ingrese un RUT para buscar la guía de despacho.');
    }
  }
</script>
</head>
<body>

<form id="form_actualizar_guia" action="procesar_actualizacion_guia_despacho.php" method="POST">
  <div class="logo-container">
    <img src="../Images/anidgraf-Photoroom.png" alt="Logo">
    <h1>Actualizar Guía de Despacho</h1>
  </div>
  <label for="rut">RUT:</label>
  <input type="text" id="rut" name="rut" required pattern="[0-9]{2}\.[0-9]{3}\.[0-9]{3}-[0-9Kk]{1}" placeholder="Ejemplo: 12.345.678-9"><br><br>

  <button type="button" onclick="buscarGuiaDespacho()">Buscar Guía de Despacho</button><br><br>

  <label for="direccion_origen">Dirección de Origen:</label>
  <textarea id="direccion_origen" name="direccion_origen" maxlength="255"></textarea><br><br>

  <label for="direccion_destino">Dirección de Destino:</label>
  <textarea id="direccion_destino" name="direccion_destino" maxlength="255"></textarea><br><br>

  <label for="condicion_entrega">Condición de Entrega:</label>
  <input type="checkbox" id="condicion_entrega" name="condicion_entrega" value="1">
  <label for="condicion_entrega">Entrega especial</label><br><br>

  <label for="fecha_emision">Fecha de Emisión:</label>
  <input type="date" id="fecha_emision" name="fecha_emision"><br><br>

  <label for="estado_despacho">Estado de Despacho:</label>
  <select id="estado_despacho" name="estado_despacho">
    <option value="1">Activo</option>
    <option value="0">Inactivo</option>
  </select><br><br>

  <input type="submit" value="Actualizar Guía de Despacho">
</form>

</body>
</html>

<!DOCTYPE html>
<html lang="es">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Actualizar Orden de Compra</title>
<link rel="stylesheet" href="../Styles/actualizar_orden_compra.css">
<style>
  /* Puedes añadir estilos adicionales si es necesario */
</style>
<script>
  function buscarOrdenCompra() {
    const idOrdenCompra = document.getElementById('id_orden_compra').value;
    if (idOrdenCompra) {
      // Aquí se debe realizar la lógica para buscar la orden de compra en la base de datos
      // Puedes usar AJAX para obtener los datos del servidor
      // Ejemplo de datos simulados:
      const data = {
        tipo_comprobante: "Factura",
        costo_total: 1500,
        descripcion_orden: "Orden de compra actualizada",
        cantidad_solicitada: 10,
        fecha_requerida: "2024-07-15",
        estado_compra: 1, // Completada
        fecha_promesa: "2024-07-10",
        fecha_compra: "2024-07-05"
      };
      // Actualiza los campos del formulario con los datos obtenidos
      document.getElementById('tipo_comprobante').value = data.tipo_comprobante;
      document.getElementById('costo_total').value = data.costo_total;
      document.getElementById('descripcion_orden').value = data.descripcion_orden;
      document.getElementById('cantidad_solicitada').value = data.cantidad_solicitada;
      document.getElementById('fecha_requerida').value = data.fecha_requerida;
      document.getElementById('estado_compra').value = data.estado_compra;
      document.getElementById('fecha_promesa').value = data.fecha_promesa;
      document.getElementById('fecha_compra').value = data.fecha_compra;
    } else {
      alert('Por favor, ingrese un ID de orden de compra para buscar.');
    }
  }
</script>
</head>
<body>

<form id="form_actualizar" action="procesar_actualizacion_orden_compra.php" method="POST">
  <div class="logo-container">
    <img src="../Images/anidgraf-Photoroom.png" alt="Logo">
    <h1>Actualizar Orden de Compra</h1>
  </div>
  <label for="id_orden_compra">ID de Orden de Compra:</label>
  <input type="text" id="id_orden_compra" name="id_orden_compra" required><br><br>

  <button type="button" onclick="buscarOrdenCompra()">Buscar Orden de Compra</button><br><br>

  <label for="tipo_comprobante">Tipo de Comprobante:</label>
  <input type="text" id="tipo_comprobante" name="tipo_comprobante" maxlength="255"><br><br>

  <label for="costo_total">Costo Total:</label>
  <input type="number" id="costo_total" name="costo_total" step="1" min="0"><br><br>

  <label for="descripcion_orden">Descripción de la Orden:</label>
  <textarea id="descripcion_orden" name="descripcion_orden" rows="4" cols="50"></textarea><br><br>

  <label for="cantidad_solicitada">Cantidad Solicitada:</label>
  <input type="number" id="cantidad_solicitada" name="cantidad_solicitada" step="1" min="0"><br><br>

  <label for="fecha_requerida">Fecha Requerida:</label>
  <input type="date" id="fecha_requerida" name="fecha_requerida"><br><br>

  <label for="estado_compra">Estado de la Compra:</label>
  <select id="estado_compra" name="estado_compra">
    <option value="0">Pendiente</option>
    <option value="1">Completada</option>
  </select><br><br>

  <label for="fecha_promesa">Fecha de Promesa:</label>
  <input type="date" id="fecha_promesa" name="fecha_promesa"><br><br>

  <label for="fecha_compra">Fecha de Compra:</label>
  <input type="date" id="fecha_compra" name="fecha_compra"><br><br>

  <input type="submit" value="Actualizar Orden de Compra">
</form>

</body>
</html>

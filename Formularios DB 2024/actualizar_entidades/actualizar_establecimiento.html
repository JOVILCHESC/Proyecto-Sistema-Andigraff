<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Actualizar Establecimiento</title>
  <link rel="stylesheet" href="../Styles/actualizar_establecimiento.css">
</head>
<body>

<form id="formBuscar" action="#" method="POST">
  <div class="logo-container">
    <img src="../Images/anidgraf-Photoroom.png" alt="Logo">
    <h1>Buscar y Actualizar Establecimiento</h1>
  </div>
  <label for="buscar_numero">Buscar por Número de Establecimiento:</label>
  <input type="number" id="buscar_numero" name="buscar_numero" required><br><br>
  <button type="button" onclick="buscarEstablecimiento()">Buscar</button>
</form>

<form id="formActualizar" action="procesar_actualizacion_establecimiento.php" method="POST" style="display: none;">
  <div class="logo-container">
    <img src="../Images/anidgraf-Photoroom.png" alt="Logo">
    <h1>Formulario de Actualización de Establecimiento</h1>
  </div>
  <label for="telefono">Teléfono:</label>
  <input type="tel" id="telefono" name="telefono"><br><br>

  <label for="numero_establecimiento">Número de Establecimiento:</label>
  <input type="number" id="numero_establecimiento" name="numero_establecimiento" readonly><br><br>

  <label for="comuna_establecimiento">Comuna:</label>
  <input type="text" id="comuna_establecimiento" name="comuna_establecimiento"><br><br>

  <label for="calle_establecimiento">Calle:</label>
  <input type="text" id="calle_establecimiento" name="calle_establecimiento"><br><br>

  <label for="ciudad_establecimiento">Ciudad:</label>
  <input type="text" id="ciudad_establecimiento" name="ciudad_establecimiento"><br><br>

  <label for="nombre_establecimiento">Nombre de Establecimiento:</label>
  <input type="text" id="nombre_establecimiento" name="nombre_establecimiento"><br><br>

  <label for="cant_empleados">Cantidad de Empleados:</label>
  <input type="number" id="cant_empleados" name="cant_empleados"><br><br>

  <input type="submit" value="Actualizar">
</form>

<script>
  function buscarEstablecimiento() {
    const numeroEstablecimiento = document.getElementById('buscar_numero').value;
    
    // Simulación de búsqueda, reemplazar con lógica real (por ejemplo, AJAX)
    // Datos simulados
    const datosEstablecimiento = {
      telefono: "123456789",
      numero_establecimiento: numeroEstablecimiento,
      comuna_establecimiento: "Santiago",
      calle_establecimiento: "Av. Ejemplo",
      ciudad_establecimiento: "Ciudad Ejemplo",
      nombre_establecimiento: "Ejemplo Store",
      cant_empleados: 10
    };

    if (datosEstablecimiento.numero_establecimiento) {
      // Mostrar el formulario de actualización y prellenar los campos
      document.getElementById('formActualizar').style.display = 'block';
      document.getElementById('telefono').value = datosEstablecimiento.telefono;
      document.getElementById('numero_establecimiento').value = datosEstablecimiento.numero_establecimiento;
      document.getElementById('comuna_establecimiento').value = datosEstablecimiento.comuna_establecimiento;
      document.getElementById('calle_establecimiento').value = datosEstablecimiento.calle_establecimiento;
      document.getElementById('ciudad_establecimiento').value = datosEstablecimiento.ciudad_establecimiento;
      document.getElementById('nombre_establecimiento').value = datosEstablecimiento.nombre_establecimiento;
      document.getElementById('cant_empleados').value = datosEstablecimiento.cant_empleados;
    } else {
      alert('Establecimiento no encontrado');
    }
  }
</script>

</body>
</html>
